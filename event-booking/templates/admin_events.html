<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manage Events | Admin</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin_events.css') }}">
</head>
<body>

<!-- ================= NAVBAR ================= -->
<div class="navbar">
    <h2>Admin Panel</h2>
    <div>
        <a href="{{ url_for('admin_dashboard') }}">Dashboard</a>
        <a href="{{ url_for('admin_events') }}" class="active">Events</a>
        <a href="{{ url_for('admin_bookings') }}">Bookings</a>
        <a href="{{ url_for('logout') }}" onclick="return confirmLogout()">Logout</a>
    </div>
</div>

<!-- ================= HEADER + ADD BUTTON ================= -->
<div class="page-header">
    <h2>Manage Events</h2>
    <a href="{{ url_for('admin_add_event') }}" class="btn-add">
        ‚ûï Add New Event
    </a>
</div>

<!-- ================= EVENTS GRID ================= -->
<!-- ================= EVENTS GRID ================= -->
<div class="container">
    {% if events %}
        <div class="events-grid">
            {% for e in events %}
            <div class="event-card fade-in">

                <div class="event-row">

                    <!-- IMAGE (LEFT) -->
                    <div class="event-image">
                        <img
                          src="{{ url_for('static', filename='images/events/' ~ e.title|lower|replace(' ', '') ~ '.jpg') }}"
                          
                          alt="{{ e.title }}">
                    </div>

                    <!-- CONTENT (RIGHT) -->
                    <div class="event-details">
                        
                        <h3>{{ e.title }}</h3>

                        <p><strong>Date:</strong> {{ e.event_date }}</p>
                        <p><strong>Location:</strong> {{ e.location }}</p>
                        <p><strong>Price:</strong> ‚Çπ{{ e.price }}</p>
                        <p><strong>Seats:</strong> {{ e.seats }}</p>

                        <div class="actions">
                            <a href="{{ url_for('edit_event', event_id=e.id) }}" class="btn edit">
                                ‚úè Edit
                            </a>

                            <a href="{{ url_for('delete_event', event_id=e.id) }}"
                               class="btn delete"
                               onclick="return confirm('Are you sure you want to delete this event?')">
                                üóë Delete
                            </a>
                        </div>
                    </div>

                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="empty-msg">No events found.</p>
    {% endif %}
</div>


<script src="{{ url_for('static', filename='js/script.js') }}"></script>

<!-- ================= CARD STAGGER ANIMATION ================= -->
<script>
document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".event-card").forEach((card, index) => {
        card.style.animationDelay = `${index * 0.08}s`;
    });
});
</script>

</body>
</html>
